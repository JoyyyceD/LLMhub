# 可解释性规范（V1）

## 1. 目标

每个推荐项都要回答：

- 为什么推荐它
- 它牺牲了什么
- 数据是否完整可信

## 2. 输出规则

每个推荐项必须包含：

- `explanations`：至少 3 条
- `tradeoffs`：至少 1 条
- `missing_data_flags`：缺失字段列表（如有）
- `confidence`：0-1 置信度

## 3. 理由生成原则

理由必须来自规则，不使用自由文案生成：

- 分项排名优势（质量、成本、延迟、吞吐）
- 在当前模板权重下的综合优势
- 与后续名次差距（可选）

建议阈值：

- 分项进入前 10%：可作为强理由
- 分项进入前 20%：可作为显著优势
- 总分领先第二名超过阈值（如 2.0 分）：可作为综合优势

示例：

- 质量位于候选前 10%
- 成本位于候选前 20%
- 在当前偏好模板下总分领先

## 4. Tradeoff 规则

- 从最弱分项生成 tradeoff
- 当数据缺失导致该维度不可信时，也可作为 tradeoff 提示

示例：

- 吞吐中等，不适合极限并发场景
- 延迟数据缺失，低延迟判断可信度受限

## 5. 缺失披露

- 缺失信息必须显式展示
- 不因缺失直接输出误导性“优势”文案

## 6. 文案生成约束

- 使用模板化句式，避免同义自由改写导致前后不一致
- 同一输入与快照下，解释文本顺序保持稳定
- 解释条目按“强理由 -> 次理由 -> 综合理由 -> tradeoff”排序
